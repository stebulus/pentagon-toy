---
---
{% capture setup_code %}
const xfm = {
    a: rotate180(dots[0], dots[1]),
    b: rotate180(dots[1], dots[2]),
    c: ray2rayflip(dots[2], dots[3], dots[2], dots[3]),
    d: ray2ray(dots[1], dots[2], dots[4], dots[3]),
    D: ray2ray(dots[2], dots[1], dots[3], dots[4]),
    e: ray2rayflip(dots[1], dots[2], dots[4], dots[0]),
    E: ray2rayflip(dots[2], dots[1], dots[0], dots[4]),
    p: ray2rayflip(dots[0], dots[1], dots[0], dots[1]),
    q: ray2rayflip(dots[4], dots[0], dots[1], dots[2]),
    Q: ray2rayflip(dots[0], dots[4], dots[2], dots[1]),
    r: ray2rayflip(dots[2], dots[3], dots[3], dots[4]),
    s: ray2ray(dots[4], dots[3], dots[4], dots[0]),
    S: ray2ray(dots[3], dots[4], dots[0], dots[4]),
    j: ray2ray(dots[3], dots[4], dots[2], dots[1]),
    J: ray2ray(dots[4], dots[3], dots[1], dots[2]),
    k: ray2rayflip(dots[3], dots[4], dots[2], dots[3]),
    m: ray2rayflip(dots[0], dots[4], dots[3], dots[2]),
    n: ray2ray(dots[0], dots[4], dots[3], dots[4]),
    N: ray2ray(dots[4], dots[0], dots[4], dots[3]),
};

const edges = [];

edges[0] = {
    a: vec(0, 1),
    b: vec(2, -1),
    c: vec(0, -2),
    d: vec(-2, -1),
    D: vec(-2, -1),
    e: vec(-2, 0),
    E: vec(-2, 0),
};

edges[1] = negated(edges[0]);

edges[3] = {
    p: vec(0, 1),
    q: vec(-2, 0),
    Q: vec(-2, 0),
    c: vec(0, -2),
    r: vec(2, -1),
    s: vec(2, 1),
    S: vec(2, 1),
};

edges[4] = {
    p: vec(0, -1),
    j: vec(-2, -1),
    J: vec(-2, -1),
    k: vec(-2, 1),
    m: vec(0, 2),
    n: vec(1, 2),
    N: vec(1, 2),
};

edges[6] = negated(swapped(edges[4]));
edges[7] = negated(swapped(edges[3]));
edges[9] = negated(swapped(edges[1]));
edges[10] = swapped(edges[1]);
edges[12] = swapped(edges[3]);
edges[13] = swapped(edges[4]);
edges[15] = negated(edges[4]);
edges[16] = negated(edges[3]);

function edgeVecs(p) {
    return edges[mod(p.x + p.y, 18)];
}

function inBounds(p) {
    return -5 <= p.x && p.x <= 5 && -4 <= p.y && p.y <= 4;
}
{% endcapture %}
{% include tiling.html letter="Z" hue_index=14 setup_code=setup_code %}
